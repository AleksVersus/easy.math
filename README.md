# easy.math v.2.x.x

Библиотека математических функций easy.math.

Разрабатывалась для плееров версий 5.7.0 — это: классический плеер [версии 5.7.0](http://qsp.su/attachments/qsp570.zip), [плеер от Seedhartha](https://github.com/seedhartha/QuestPlayer) для Android (до версии 2.3.1 минимум), а так же [Quest Navigator](http://qsp.su/index.php?option=com_agora&task=topic&id=633&Itemid=57) версии 0.0.28. Не гарантируется правильная работа на плеерах иных версий. Некоторые функции имеют ограничения на значение числовых аргументов, это связано с используемыми плеером библиотеками. Для разных версий плеера могут быть разные ограничения, поэтому внимательно читайте документацию к плееру, под который разрабатываете игру.

Ветка версий 2.x.x. будет поддерживаться до тех пор, пока не выйдет классический плеер версии 5.8.0, и пока я не допишу игру для плеера версии 5.7.0, затем я сосредоточусь на ветке 3.x.x. Таким образом будут существовать одновременно две версии библиотеки: 2.x.x и 3.x.x. Вариант 2.x.x будет работать и в более старых, и в более новых версиях плеера, а вариант 3.x.x будет работать исключительно в плеерах версии 5.8.0 и выше.

Внимание!!! В версии библиотеки 2.4.0, которая следует за 2.3.14, внесены большие изменения, и многие функции потеряли обратную совместимость. Управляющие конструкции для многих функций переписаны и приведены к единому виду! Будьте внимательны при обновлении библиотеки, если вы её уже используете!!!

По всем вопросам и предложениям обращаться:

* aleksversus@mail.ru
* Вконтакте: [id40090736](https://vk.com/id40090736)

Изначально библиотека создавалась для обеспечения нужд игры [МАГИКОН](http://aleksversus.narod.ru/index/magicon_fb/0-65).

## Подключение и использование
Предполагается, что Вы читали справку по QSP, пробовали писать игры и уже знаете, что такое локации, подпрограммы (процедуры) и функции, чем отличаются текстовые и числовые переменные, что такое аргументы и для чего они нужны.

Чтобы использовать функции библиотеки при написании своей игры, сделайте следующее:

скачайте архив с библиотекой отсюда, и распакуйте в папку, где лежит ваша игра. В папке с вашей игрой должна появиться папка "lib".

В своей игре на самой первой локации, в поле "выполнить при посещении" введите
```qsp
addqst 'lib\easy.math.qsp'
```

Если планируется использование библиотеки в играх на Quest Navigator, подключение библиотеки производится с помощью команды `inclib`. Так же необходимо выставить значение переменной `$AVS_PLAYERTYPE` равное `'[QN]'`

```qsp
inclib 'lib\easy.math.qsp'
$AVS_PLAYERTYPE='[QN]'
```

Теперь Вы можете пользоваться функциями библиотеки.

Все функции библиотеки вызываются с помощью ключевого слова `FUNC( )` - для получения числовых значений, и `$FUNC( )` - для получения текстовых значений.

Исключением являются функции, результат которых записывается в массив. Такие функции вызываются оператором `GOSUB`, или `GS`.

```qsp
$FUNC('#fnct#',$args[0],$args[1],$args[2],$args[3],$args[4],$args[5],$args[6],$args[7],$args[8])
```

Аргументы могут быть текстовыми или числовыми в зависимости от требований и назначения функции.

Библиотека работает с переменными, имена которых включают сочетание `easy_math`, чтобы избежать пересечений с именами переменных, которые Вы используете в своих играх.

Все переменные, использующиеся функциями, после - уничтожаются.

Если результат работы функции помещается в массив, одним из параметров функции указывается имя массива, в который должен быть помещён результат. Имена массивов, передаваемые в аргументах функций, должны записываться по общим правилам записи имён переменных для плеера: текстовые массивы - с символом `$` перед именем, числовые - без символа `$` перед именем. Само имя не должно содержать символа `$`, и других запрещённых символов.

## История версий

