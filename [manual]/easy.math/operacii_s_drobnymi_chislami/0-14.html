<!DOCTYPE html>
<html lang="ru">
<head>
	<meta http-equiv="content-type" content="text/html; charset=utf-8" />
	<link type="text/css" rel="stylesheet" href="../../res/css/easy.library.css" />
    <link type="text/css" rel="stylesheet" href="../../res/css/offline.window.css" />
	<title>Easy Math — Logic Operations</title>
</head>
<body>
<div class="em_AROUND">
	<a id="UP" class="emHREFHH" href="http://aleksversus.narod.ru/qsp/projects/easy.math.rar" title="скачать последнюю версию библиотеки в формате rar"><h1>easy.math.qsp v 2.3.0</h1></a>
	<!-- Исправить ссылку -->
	<div class="em_PAGE">
		<div><a href="../manual.html">Назад</a></div>
		<h3>Операции с дробными числами</h3>
			<a id="dz"></a><h4>#dz#</h4>
				<p><a href="#UP" title="Вверх">&nbsp;&uarr;&nbsp;Наверх&nbsp;</a></p>
				<p><span class="emTEXT">Delete Zero</span> - одна из основных функций, позволяющая упразднять несущественные нули в конце натурального числа, а так же все несущественные нули в начале.
				<p class="em_CODE">
					<span class="emVAR">$args[<span class="emNUM">0</span>]</span> - обрабатываемое число, только в текстовом виде!!!
					<br><span class="emVAR">&nbsp;args[<span class="emNUM">1</span>]</span> - разряд до которого требуется удалить нули. 1 - до целых, 10 - до десятых, 100 - до сотых и т.д, по умолчанию 1.
					<br><span class="emVAR">&nbsp;$result</span> - текстовое значение вида <span class="emTEXT">000.000</span>
				</p>
				<h5>Результат работы функции:</h5>
				<p class="em_CODE">
					$func('#dz#','64',100)=64<br>
					$func('#dz#','64.0080000',1)=64.008<br>
					$func('#dz#','64.0080000',100)=64.008<br>
					$func('#dz#','64.0080000',10000)=64.0080
				</p>
			<a id="indiv"></a><h4>#indiv#</h4>
				<p><a href="#UP" title="Вверх">&nbsp;&uarr;&nbsp;Наверх&nbsp;</a></p>
				<p>Вычисляет рациональное частное от целых чисел.</p>
				<p class="em_CODE">
					<span class="emVAR">&nbsp;args[<span class="emNUM">0</span>]</span> - делимое
					<br><span class="emVAR">&nbsp;args[<span class="emNUM">1</span>]</span> - делитель, по умолчанию = 100
					<br><span class="emVAR">&nbsp;args[<span class="emNUM">2</span>]</span> - точность вычисления. 1 - до целых, 10 - до десятых, 100 - до сотых и т.д. По умолчанию, вычисляет до девятого знака после запятой.<br><span class="emVAR">&nbsp;$result</span> - текстовое значение вида <span class="emTEXT">000.000</span>
				</p>

				<p>Использует функцию <span class="emFOLD">#dz#</span>
				<p>Имеются ограничения на значения аргументов (для QSP 5.7.0 в пределах [-2147483648 ... 2147483647]).
				<h5>Результат работы функции:</h5>
				<p class="em_CODE">
					$func('#indiv#',-950000,1000)=-950<br>
					$func('#indiv#',64)=0.64<br>
					$func('#indiv#',64,8,1)=8<br>
					$func('#indiv#',64,7,100000)=9.14285<br>
					$func('#indiv#',64,7)=9.142857142<br>
					$func('#indiv#',8,125)=0.064<br>
					$func('#indiv#',150,100,10)=1.5<br>
					$func('#indiv#',200,100,10)=2
				</p>
			<a id="undiv"></a><h4>#undiv#</h4>
				<p><a href="#UP" title="Вверх">&nbsp;&uarr;&nbsp;Наверх&nbsp;</a></p>
				<p>Переводит рациональное число в целое. (фактически умножает рациональное число на круглое число, с округлением-отсечением дробной части)</p>
				<p class="em_CODE">
					<span class="emVAR">$args[<span class="emNUM">0</span>]</span> - рациональное число
					<br><span class="emVAR">&nbsp;args[<span class="emNUM">1</span>]</span> - точность перевода 10 - один знак после запятой, 100 - два знака, и т.д, по умолчанию до последнего знака после запятой
					<br><span class="emVAR">&nbsp;&nbsp;result</span> - целое число
				</p>
				<p>Не использует дополнительных функций, однако есть ограничение на значения аргументов и результата (для QSP 5.7.0 в пределах [-2147483648 ... 2147483647]).</p>
				<h5>Результат работы функции:</h5>
				<p class="em_CODE">
					$func('#undiv#','1',1000)=1000
					<br>$func('#undiv#','-1',1000)=-1000
					<br>$func('#undiv#','0.123',100)=12
					<br>$func('#undiv#','0.123',10)=1
					<br>$func('#undiv#','0.123')=123
					<br>$func('#undiv#','1.23')=123
				</p>
			<a id="razdiv"></a><h4>#razdiv#</h4>
				<p><a href="#UP" title="Вверх">&nbsp;&uarr;&nbsp;Наверх&nbsp;</a></p>
				<p>Получает разрядность дробной части числа в виде целого круглого числа
				<p class="em_CODE">
					<span class="emVAR">$args[<span class="emNUM">0</span>]</span> - число в текстовом виде
					<br><span class="emVAR">&nbsp;&nbsp;result</span> - число, в числовом виде (соответственно для QSP 5.7.0 в пределах [-2147483648 ... 2147483647])
				</p>
				<h5>Результат работы функции:</h5>
				<p class="em_CODE">
					$func('#razdiv#','0.64') = 100
					<br>$func('#razdiv#','0.064') = 1000
					<br>$func('#razdiv#','0.640') = 1000
					<br>$func('#razdiv#','0.647777') = 1000000
					<br>$func('#razdiv#','-7777.64') = 100
					<br>$func('#razdiv#','-7777.<span style="color:#ff0000;">646666666666666666666666</span>') = <span style="color:#ff0000;">-1593835520</span> - превышено допустимое значение, результат неверен!!!
				</p>
			<a id="rounddiv"></a><h4>#rounddiv#</h4>
				<p><a href="#UP" title="Вверх">&nbsp;&uarr;&nbsp;Наверх&nbsp;</a></p>
				<p>Округляет число до указанной разрядности</p>
				<p>возможны варианты 1, 10, 100, 1000 и т.п., и 0.1, 0.01 и т.п.</p>
				<p class="em_CODE">
					<span class="emVAR">$args[<span class="emNUM">0</span>]</span> - число
					<br><span class="emVAR">$args[<span class="emNUM">1</span>]</span> - разрядность
					<br><span class="emVAR">$args[<span class="emNUM">2</span>]</span> - up в сторону увеличения
				</p>
				<p> Функция работоспособна, но не доработана (актуально для версии библиотеки 2.1.4 и ниже). Использует функции <span class="emFOLD">#even#</span>, <span class="emFOLD">#indiv#</span>, <span class="emFOLD">#razdiv#</span>, <span class="emFOLD">#raz#</span>, в следствии чего накладывается ограничение на значения аргументов.</p>
				<h5>Результат работы функции:</h5>
				<p class="em_CODE">
						$func("#rounddiv#","945.459","0.1")&nbsp;&nbsp;=&nbsp;&nbsp;945.5
					<br>$func("#rounddiv#","945.459","0.01")&nbsp;=&nbsp;&nbsp;945.46
					<br>$func("#rounddiv#","945.459","0.001")=&nbsp;&nbsp;945.459
					<br>$func("#rounddiv#","945.459","1")&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;&nbsp;945
					<br>$func("#rounddiv#","945.459","10")&nbsp;&nbsp;&nbsp;=&nbsp;&nbsp;950
					<br>$func("#rounddiv#","945.459","100")&nbsp;&nbsp;=&nbsp;&nbsp;900
					<br>$func("#rounddiv#","-945.459","10")&nbsp;&nbsp;=&nbsp;-950
					<br>$func("#rounddiv#","-945.459","0.01")=&nbsp;-945.46
				</p>
			<a id="plus"></a><h4>#+#</h4>
				<p><a href="#UP" title="Вверх">&nbsp;&uarr;&nbsp;Наверх&nbsp;</a></p>
				<p>Функция сложения. Может суммировать целые и дробные числа любого знака любой длины (ограничение на значение текстовых переменных для QSP 5.7.0 около 2Гб).</p>
				<p>Использует функции <span class="emFOLD">#zero#</span>, <span class="emFOLD">#add#</span>, <span class="emFOLD">#dev#</span>, <span class="emFOLD">#dz#</span>. Каждая из этих функций включает в себя один и более циклов, в результате чего могут наблюдаться заметные подвисания плеера для ОЧЕНЬ больших чисел. Вычисления могут оказаться долгими, но они будет произведены - результат гарантирован.</p>
				<p class="em_CODE">
					<span class="emVAR">$args[<span class="emNUM">0</span>]</span> ... <span class="emVAR">$args[<span class="emNUM">8</span>]</span> - девять слагаемых. Могут быть переданы в числовом виде (для QSP 5.7.0 в пределах [-2147483648 ... 2147483647]).
					<br><span class="emVAR">&nbsp;$result</span> - всегда текстовое значение.
				</p>
				<h5>Результат работы функции:</h5>
				<p class="em_CODE">
					$func('#+#','9.05',"-9") = 0.05
					<br>$func('#+#','9.05',"-9.05") = 0
					<br>$func('#+#','9.05',"9") = 18.05
					<br>$func('#+#','9.05',"9.55","9.25") = 27.85
					<br>$func('#+#','9.99',"9.999","9.9") = 29.889
					<br>$func('#+#','384.384',"92.8",3) = 480.184
					<br>$func('#+#','283','126') = 409
					<br>$func('#+#','283','-126') = 157
					<br>$func('#+#','-283','126') = -157
					<br>$func('#+#','-283','-126') = -409
					<br>$func("#+#","-234","125","-13.7890303","3484889") = 3484766.2109697
				</p>
		<p> Будьте внимательны. Функция работает с переменными <span class="emARR">minus_em_plus</span>, <span class="emARR">i_em_plus</span>, <span class="emARR">o_em_plus</span>, <span class="emARR">len_em_plus</span>. Если вы используете такие же переменные в своей игре, переименуйте переменные в функции.</p>
			<a id="umn"></a><h4>#*#</h4>
				<p><a href="#UP" title="Вверх">&nbsp;&uarr;&nbsp;Наверх&nbsp;</a></p>
				<p>Перемножает несколько чисел любой длины.
				<p>Внимание! Функция использует функции <span class="emFOLD">#+#</span>, <span class="emFOLD">#zero#</span>, <span class="emFOLD">#dz#</span>, каждая из которых основана на циклических расчётах. Сама функция использует для подсчёта 4 цикла, что может замедлять работу программ при вычислении больших значений. Тем не менее функция работает, хотя и несколько подвешивает игру, если выполнять несколько умножений подряд.
				<p class="em_CODE">
					<span class="emVAR">$args[<span class="emNUM">0</span>]</span> ... <span class="emVAR">$args[<span class="emNUM">8</span>]</span> - девять множителей. Могут быть переданы в числовом виде (для QSP 5.7.0 в пределах [-2147483648 ... 2147483647]).
					<br><span class="emVAR">&nbsp;$result</span> - всегда текстовое значение.
				</p>
				<p>Функция работает с переменными <span class="emARR">i_em_um</span>, <span class="emARR">j_em_um</span>, <span class="emARR">a_em_um</span>. Если вы используете такие же переменные в своей игре, переименуйте переменные в функции.</p>
				<h5>Результат работы функции:</h5>
				<p class="em_CODE">
					$func('#*#',"38.4","2.5") = 96
					<br>$func('#*#','9.05',"-9.05") = -81.9025
					<br>$func('#*#','9.05',"10") = 90.5
					<br>$func('#*#','9.05',"9.55","9.25") = 799.454375
					<br>$func('#*#','9.99',"-9.999","9.9") = -988.911099
					<br>$func('#*#','2','2','2','2','2','2','2','2','2') = 512
					<br>$func('#*#','-2','-2','-2','-2','-2','-2','-2','-2','-2') = -512
				</p>
			<a id="del"></a><h4>#:#</h4>
				<p><a href="#UP" title="Вверх">&nbsp;&uarr;&nbsp;Наверх&nbsp;</a></p>
		<p>Функция деления любого числа на любое. К сожалению, в настоящее время функция не доработана и использует примитивный способ вычисления. В связи с этим на размер аргументов и результата имеются ограничения. Тем не менее для небольших величин функция работает очень даже хорошо и вполне может использоваться.</p>
				<p class="em_CODE">
					<span class="emVAR">$args[<span class="emNUM">0</span>]</span> - делимое, только текстовое
					<br><span class="emVAR">$args[<span class="emNUM">1</span>]</span> - делитель, только текстовое
					<br><span class="emVAR">&nbsp;args[<span class="emNUM">2</span>]</span> - точность 1 -целые- 10 десятые доли, 100 сотые, 1000 - тысячные.
					<br><span class="emVAR">&nbsp;$result</span> - частное, текстовое значение
				</p>
				<p>Используются функции <span class="emFOLD">#dz#</span>, <span class="emFOLD">#razdiv#</span>, <span class="emFOLD">#indiv#</span>, <span class="emFOLD">#undiv#</span>.</p>
				<h5>Результат работы функции:</h5>
				<p class="em_CODE">
					$func('#:#','9.05',"-9",10000) = -1.0055
					<br>$func('#:#','9.05','-9.05',10000) = -1
					<br>$func('#:#','9.05',"10") = 0.905
					<br>$func('#:#','9.05',"9.55",10000) = 0.9476
					<br>$func('#:#','9.99',"9.999",10000) = 0.999
					<br>$func('#:#','9.99',"9.999",1000000) = 0.999099
					<br>$func('#:#','-1.69',"1.3",10000) = -1.3
					<br>$func('#:#','1.69',"1.3",10000) = 1.3
					<br>$func('#:#','-1.69',"-1.3",10000) = 1.3
					<br>$func('#:#','1.69',"-1.3",10000) = -1.3
				</p>
			<a id="sim"></a><h4>#sim#</h4>
				<p><a href="#UP" title="Вверх">&nbsp;&uarr;&nbsp;Наверх&nbsp;</a></p>
				<p>Функция <span class="emFOLD">simplificate</span> сравнивает два числа и выдаёт в результат большее.</p>
				<p>Функция использует функции <span class="emFOLD">#dz#</span>, <span class="emFOLD">#razdiv#</span>, <span class="emFOLD">#undiv#</span>, соттветственно для неё актуальны все ограничения связанные с этими функциями.</p>
				<p>В настоящее время функция недоработана и использует примитивные механизмы сравнения. Тем не менее для небольших значений функция вполне работоспособна.</p>
				<p class="em_CODE">
					<span class="emVAR">$args[<span class="emNUM">0</span>]</span> - первое число, только текстовое значение
					<br><span class="emVAR">$args[<span class="emNUM">1</span>]</span> - второе число, только текстовое значение
					<br><span class="emVAR">&nbsp;$result</span> - результат, текстовое значение
				</p>
				<h5>Результат работы функции:</h5>
				<p class="em_CODE">
					$func('#sim#','9.05',"-9") = 9.05
					<br>$func('#sim#','9.05','-9.05') = 9.05
					<br>$func('#sim#','9.05',"10") = 10
					<br>$func('#sim#','9.05',"9.55") = 9.55
					<br>$func('#sim#','9.99',"9.999") = 9.999
					<br>$func('#sim#','-1.69',"1.3") = 1.3
					<br>$func('#sim#','-1.69',"-1.3") = -1.3
					<br>$func('#sim#','1.69',"1.3") = 1.69
					<br>$func('#sim#','1.69',"-1.3") = 1.69
				</p>
				<p>Внимание, результаты функции даются в обработке функцией <span class="emFOLD">#dz#</span>, а значит они могут отличаться по количеству символов с данными, передаваемыми в аргументах. Будьте аккуратны при использовании сравнений.
			<a id="sqrt"></a><h4>#sqrt#</h4>
				<p><a href="#UP" title="Вверх">&nbsp;&uarr;&nbsp;Наверх&nbsp;</a></p>
				<p>Вычисление квадратного корня методом Ньютона.</p>
				<p class="em_CODE">
					<span class="emVAR">$args[<span class="emNUM">0</span>]</span> - число, текстовое значение
					<br><span class="emVAR">&nbsp;args[<span class="emNUM">1</span>]</span> - точность. Целое число: 100 - сотые, 1000 - тысячные и т.д.
					<br><span class="emVAR">$args[<span class="emNUM">2</span>]</span> - первое приближение, только текстовое значение. Вы можете указать примерно чему будет равен результат. Это ускорит вычисление
				</p>
				<h5>Как работает:</h5>
				<p style="font-size:0.9em;padding-bottom:1em;">Существует простое линейное уравнение, повторяя вычисление которого несколько раз, мы получаем корень числа с некоторой погрешностью. Чем чаще мы производим вычисление, тем точнее результат. Округление числа производится до требуемого знака после запятой. Когда предыдущее вычисленное значение становится равно предыдущему, проверяется погрешность вычисления. Если погрешность не превышает 0.00000001, число принимается. В противном случае выдаётся ноль.</p>
				<p>Функция использует <span class="emFOLD">#:#</span>, <span class="emFOLD">#*#</span>, <span class="emFOLD">#+#</span>, в связи с чем к ней применимы те же ограничения, что и к этим функциям. Так же поскольку производится несколько десятков и сотен циклических вычислений, функция может заметно подвешивать игру даже при вычислении небольших значений. В настоящее время функция позволяет использовать значение первого приближения, чтобы сократить время расчётов. Значение необходимо передавать вторым аргументом (<span class="emVAR">$args[<span class="emNUM">2</span>]</span>). В будущем таблицы приближений небольших чисел будут непосредственно встроены в функцию.
				<h5>Результат работы функции:</h5>
					<p>Даётся в условной записи. Функции в QSP по-прежнему вызываются с помощью ключевого слова $func.</p>
					<p><span class="emFUNC">$func</span>(<span class="emTEXT">'#sqrt#'</span>,<span class="emTEXT">'1000'</span>,<span class="emNUM">10000</span>,<span class="emTEXT">"31"</span>)</p>
				<p class="em_CODE">
					#SQRT# 1000, точность 10000 = 31.6227
					<br>#SQRT# 16, точность 10000 = 4
					<br>#SQRT# 257, точность 100000 = 16.03121
					<br>#SQRT# 257, точность 10000 = 16.0312
					<br>#SQRT# 257, точность 1000 = 16.031
					<br>#SQRT# 257, точность 100 = 16.03
					<br>#SQRT# 2.1, точность 100 = 1.44
					<br>#SQRT# 259, точность 100 = 16.09
					<br>#SQRT# 260, точность 100 = 16.12
					<br>#SQRT# 1.69, точность 100 = 1.3
					<br>#SQRT# 0.69, точность 10000 = 0.8306
				</p>
				<p>при вычислении без первого приближения расчёт для всех значений в совокупности даёт 9 секунд задержки. При вычислении с первым приближением близким по значению к результату, время на все вычисления составило 3 секунды задержки. Наибольшее количество времени ушло на вычисление корня из 1000, причём без первого приближения это время оказалось в два раза больше, чем с первым приближением.</p>
			<a id="invert"></a><h4>#invert#</h4>
				<p><a href="#UP" title="Вверх">&nbsp;&uarr;&nbsp;Наверх&nbsp;</a></p>
				<p>Простая функция . Подставляет в начало строки <span class="emTEXT">'-'</span>, если его там нет, и убирает, если он там есть.</p>
				<p class="em_CODE">
					<span class="emVAR">$args[<span class="emNUM">0</span>]</span> - строка (по идее число в текстовой записи)
					<br><span class="emVAR">&nbsp;$result</span> - полученная строка
				</p>
				<p>Честно говоря необходимость в этой функции отпала, когда была разработана вторая версия библиотеки. Поскольку я не помню, где ещё я мог использовать эту функцию, я её оставил. Тем не менее может пригодиться, скажем, для быстрого инвертирования шестнадцатеричных чисел.</p>
		<div><a href="../manual.html">Назад</a></div>
	</div>

	<div class="em_Epigraph">
		<div class="em_subText">
			<p>Aleks Versus'Easy Libraries'2013</p>
			<p>Aleks Versus'Game Adventure Making'Really Unimaginable Stories'2013</p>
		</div>
	</div>
</div>
</body>
</html>
